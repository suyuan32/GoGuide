import{_ as t}from"./comparing-ipv4-and-ipv6-headers-C3gbjVk-.js";import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,o as n,d as r}from"./app-DLqeUa4U.js";const i="/assets/image/article/network/ip.png",o={},s=r('<h2 id="ip" tabindex="-1"><a class="header-anchor" href="#ip"><span>IP</span></a></h2><p>IP (Internet Protocol) and TCP together form the TCP/IP protocol stack, which is one of the core protocols of the Internet.</p><p>IP has the following characteristics:</p><ul><li><strong>Stateless</strong>: It does not store any state information, which means that IP packets can be unordered and duplicated.</li><li><strong>Connectionless</strong>: It does not require establishing a connection, and both the sender and receiver do not need to store information about each other. The destination IP address needs to be specified for each transmission.</li><li><strong>Unreliable</strong>: IP cannot guarantee that packets will always be delivered. They may be lost or discarded due to timeouts.</li></ul><h3 id="ipv4-structure" tabindex="-1"><a class="header-anchor" href="#ipv4-structure"><span><strong>IPv4</strong> Structure</span></a></h3><figure><img src="'+i+'" alt="ipv4 header" tabindex="0" loading="lazy"><figcaption>ipv4 header</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">Field Descriptions</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>Version</td><td>Occupies 4 bits and is used to identify the version number of the IP header. The IPv4 version number is 4.</td></tr><tr><td>Header Length</td><td>Represents the size of the IP header, with a minimum value of 5 (5<em>4 = 20 bytes) and a maximum value of 15 (15</em>4 = 60 bytes).</td></tr><tr><td>Differentiated Services (DS)</td><td>Used to represent the type of service. It can be divided into DSCP and ECN (Explicit Congestion Notification).</td></tr><tr><td>Total Length</td><td>Represents the total number of bytes of the IP header and the data section combined.</td></tr><tr><td>Identification</td><td>Used for fragmentation and reassembly. This field is incremented by 1 for each generated datagram during fragmentation.</td></tr><tr><td>Flags</td><td>Represents the relevant information about packet fragmentation.</td></tr><tr><td>Fragment Offset</td><td>Used to identify the position of each segment being fragmented relative to the original data, in units of 8 bytes.</td></tr><tr><td>Time to Live (TTL)</td><td>Decreases by one for each router the packet passes through. When it reaches zero, the packet is discarded.</td></tr><tr><td>Protocol</td><td>The protocol used in the data section of the packet.</td></tr><tr><td>Header Checksum</td><td>Used to check if the packet is damaged.</td></tr><tr><td>Source Address</td><td>Represents the IP address of the sender.</td></tr><tr><td>Destination Address</td><td>Represents the IP address of the receiver.</td></tr><tr><td>Options</td><td>Additional information.</td></tr><tr><td>Data</td><td>The content of the transmitted data.</td></tr></tbody></table></div><details class="hint-container details"><summary>Version Number Corresponding to Digits</summary><table><thead><tr><th>Version</th><th>Description</th><th>Status</th></tr></thead><tbody><tr><td>0</td><td>Pre-Internet Protocol, before v4</td><td>Reserved</td></tr><tr><td>1–3</td><td>Unassigned</td><td></td></tr><tr><td>4</td><td>Internet Protocol version 4 (IPv4)</td><td>Active</td></tr><tr><td>5</td><td>Internet Stream Protocol or ST</td><td>Deprecated</td></tr><tr><td>5</td><td>Internet Stream Protocol or ST-II</td><td>Deprecated</td></tr><tr><td>6</td><td>Simple Internet Protocol (SIP)</td><td>Deprecated</td></tr><tr><td>6</td><td>Internet Protocol version 6 (IPv6)</td><td>Active</td></tr><tr><td>7</td><td>TP/IX Next Generation Internet (IPv7)</td><td>Deprecated</td></tr><tr><td>8</td><td>P Internet Protocol (PIP)</td><td>Deprecated</td></tr><tr><td>9</td><td>TCP and UDP Large Addresses (TUBA)</td><td>Deprecated</td></tr><tr><td>10–14</td><td>Unassigned</td><td></td></tr><tr><td>15</td><td>Version field reserved value</td><td>Reserved</td></tr></tbody></table></details><details class="hint-container details"><summary>Flags Description</summary><p>This 3-bit field is used to control and identify fragmentation. They are:</p><table><thead><tr><th>Bit</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>Reserved, must be set to 0</td></tr><tr><td>1</td><td>Don&#39;t Fragment (DF)</td></tr><tr><td>2</td><td>More Fragments (MF)</td></tr></tbody></table><div class="hint-container warning"><p class="hint-container-title">Warning</p><ul><li><p><strong>If the DF flag is set to 1 but the route requires the packet to be fragmented, the packet will be discarded.</strong></p></li><li><p><strong>For fragmented packets, except for the last fragment, the MF flag is set to 1, and the fragment offset field of the last fragment is not 0.</strong></p></li></ul></div></details><details class="hint-container details"><summary>Common IP Options</summary><ul><li><p><strong>Security Options</strong>: Used to provide network security functions, such as data encryption, authentication, and access control.</p></li><li><p><strong>Record Route Option</strong>: Enables the IP datagram to record the IP addresses of the routers it passes through in the transmission path, for diagnosing network problems or tracing the path of packets.</p></li><li><p><strong>Loose Source Routing</strong>: Specifies the transmission path of the data packet, requiring the packet to pass through specified intermediate nodes, but allowing other nodes on the path to make certain choices.</p></li><li><p><strong>Strict Source Routing</strong>: Specifies the transmission path of the data packet, requiring the packet to be delivered in the specified node order, and other nodes cannot participate.</p></li><li><p><strong>Timestamp Option</strong>: Inserts timestamp information into the packet to measure the time required for the packet to be transmitted from the source to the destination.</p></li></ul></details><h3 id="fragmentation" tabindex="-1"><a class="header-anchor" href="#fragmentation"><span>Fragmentation</span></a></h3><div class="hint-container tip"><p class="hint-container-title">MTU</p><p>Maximum Transmission Unit (MTU) refers to the maximum packet size (in bytes) that can be transmitted at the data link layer.</p></div><p>When an <code>IP</code> packet is transmitted over a link layer and the packet size exceeds the link layer&#39;s <code>MTU</code>, the packet needs to be fragmented. The length of each fragment must be less than or equal to the MTU minus the IP header length.</p><div class="hint-container important"><p class="hint-container-title">Fragmentation Process</p><p>Each fragmented data segment is placed in an independent IP datagram, and the corresponding fields in the datagram need to be modified:</p><ul><li>Modify the total length field to the length of the current fragment.</li><li>Except for the last fragment, set the More Fragments (MF) flag to 1.</li><li>Adjust the fragment offset.</li><li>Recalculate the checksum.</li></ul></div><details class="hint-container details"><summary>Example</summary><p>An IP datagram with a header length of <code>20</code> bytes and a data payload of <code>4000</code> bytes (total length: <code>4020</code> bytes) is transmitted over a link with an <code>MTU</code> of <code>2500</code> bytes. It will be divided into two fragments:</p><table><thead><tr><th>Total Length</th><th>Header</th><th>Data</th><th>More Fragments (MF)?</th><th>DF</th><th>Fragment Offset</th></tr></thead><tbody><tr><td>2500</td><td>20</td><td>2480</td><td>Yes</td><td>0</td><td>0</td></tr><tr><td>1540</td><td>20</td><td>1520</td><td>No</td><td>0</td><td>310 (2480/8)</td></tr></tbody></table><p>Similarly, when the MTU becomes smaller, the cut fragments will be further divided.</p></details><h3 id="reassembly" tabindex="-1"><a class="header-anchor" href="#reassembly"><span>Reassembly</span></a></h3><div class="hint-container tip"><p class="hint-container-title">How to Determine if Data is Fragmented?</p><ul><li>DF flag is 0</li><li>Fragment offset field is not 0</li></ul></div><p>The receiver collects the fragments and sorts them based on the offset. Once all the fragments are collected, they are reassembled and submitted to the upper protocol stack.</p><h3 id="ipv6" tabindex="-1"><a class="header-anchor" href="#ipv6"><span>IPV6</span></a></h3><figure><img src="'+t+'" alt="IPV6" tabindex="0" loading="lazy"><figcaption>IPV6</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">Differences between IPv4 and IPv6</p><table><thead><tr><th style="text-align:left;">Feature</th><th style="text-align:left;">IPv4</th><th style="text-align:left;">IPv6</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Address Length</strong></td><td style="text-align:left;">32 bits, providing about 4.3 billion addresses</td><td style="text-align:left;">128 bits, providing a vast number of addresses</td></tr><tr><td style="text-align:left;"><strong>Address Notation</strong></td><td style="text-align:left;">Dotted decimal notation, e.g., 192.168.0.1</td><td style="text-align:left;">Colon hexadecimal notation, e.g., 2001:0db8:85a3:0000:0000:8a2e:0370:7334</td></tr><tr><td style="text-align:left;"><strong>Header Length</strong></td><td style="text-align:left;">Fixed, 20 bytes</td><td style="text-align:left;">Fixed, 40 bytes</td></tr><tr><td style="text-align:left;"><strong>Quality of Service (QoS)</strong></td><td style="text-align:left;">Limited native support</td><td style="text-align:left;">Native support, including flow labels and flow priorities</td></tr><tr><td style="text-align:left;"><strong>Security</strong></td><td style="text-align:left;">Requires the use of IPSec</td><td style="text-align:left;">Native support for IPSec</td></tr><tr><td style="text-align:left;"><strong>Configuration</strong></td><td style="text-align:left;">Manual or DHCP</td><td style="text-align:left;">Manual, automatic (based on link-local addresses and router announcements), or DHCPv6</td></tr></tbody></table></div><h3 id="what-is-ip-spoofing" tabindex="-1"><a class="header-anchor" href="#what-is-ip-spoofing"><span>What is IP Spoofing?</span></a></h3><p>IP spoofing refers to the technique of forging the IP address of a host. An attacker can send a large number of data segments with different IP addresses and the RST flag set to a server, causing the server to disconnect from the host. If other hosts need to access the server, they will need to establish a new connection. Alternatively, the attacker can impersonate another host and establish a connection with the server to steal data.</p>',23),d=[s];function l(c,h){return n(),a("div",null,d)}const f=e(o,[["render",l],["__file","2-ip.html.vue"]]),u=JSON.parse('{"path":"/en/guide/concepts/network/2-ip.html","title":"IP","lang":"en-US","frontmatter":{"order":2,"title":"IP","icon":"line-md:star-filled","head":[["meta",{"name":"keywords","content":"IP, Internet Protocol, TCP/IP, IPv4, IPv6, Header"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://goguide.ryansu.tech/guide/concepts/network/2-ip.html"}],["meta",{"property":"og:url","content":"https://goguide.ryansu.tech/en/guide/concepts/network/2-ip.html"}],["meta",{"property":"og:site_name","content":"Go Guide"}],["meta",{"property":"og:title","content":"IP"}],["meta",{"property":"og:description","content":"IP IP (Internet Protocol) and TCP together form the TCP/IP protocol stack, which is one of the core protocols of the Internet. IP has the following characteristics: Stateless: I..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://goguide.ryansu.tech/assets/image/article/network/ip.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-05T13:24:21.000Z"}],["meta",{"property":"article:author","content":"Go Guide"}],["meta",{"property":"article:modified_time","content":"2024-05-05T13:24:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"IP\\",\\"image\\":[\\"https://goguide.ryansu.tech/assets/image/article/network/ip.png\\",\\"https://goguide.ryansu.tech/assets/image/article/network/comparing-ipv4-and-ipv6-headers.png\\"],\\"dateModified\\":\\"2024-05-05T13:24:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Go Guide\\",\\"url\\":\\"https://github.com/suyuan32\\"}]}"]],"description":"IP IP (Internet Protocol) and TCP together form the TCP/IP protocol stack, which is one of the core protocols of the Internet. IP has the following characteristics: Stateless: I..."},"headers":[{"level":2,"title":"IP","slug":"ip","link":"#ip","children":[{"level":3,"title":"IPv4 Structure","slug":"ipv4-structure","link":"#ipv4-structure","children":[]},{"level":3,"title":"Fragmentation","slug":"fragmentation","link":"#fragmentation","children":[]},{"level":3,"title":"Reassembly","slug":"reassembly","link":"#reassembly","children":[]},{"level":3,"title":"IPV6","slug":"ipv6","link":"#ipv6","children":[]},{"level":3,"title":"What is IP Spoofing?","slug":"what-is-ip-spoofing","link":"#what-is-ip-spoofing","children":[]}]}],"git":{"createdTime":1708140037000,"updatedTime":1714915461000,"contributors":[{"name":"Ryan Su","email":"yuansu.china.work@gmail.com","commits":4}]},"readingTime":{"minutes":3.58,"words":1074},"filePathRelative":"en/guide/concepts/network/2-ip.md","localizedDate":"February 17, 2024","autoDesc":true,"excerpt":"<h2>IP</h2>\\n<p>IP (Internet Protocol) and TCP together form the TCP/IP protocol stack, which is one of the core protocols of the Internet.</p>\\n<p>IP has the following characteristics:</p>\\n<ul>\\n<li><strong>Stateless</strong>: It does not store any state information, which means that IP packets can be unordered and duplicated.</li>\\n<li><strong>Connectionless</strong>: It does not require establishing a connection, and both the sender and receiver do not need to store information about each other. The destination IP address needs to be specified for each transmission.</li>\\n<li><strong>Unreliable</strong>: IP cannot guarantee that packets will always be delivered. They may be lost or discarded due to timeouts.</li>\\n</ul>"}');export{f as comp,u as data};
